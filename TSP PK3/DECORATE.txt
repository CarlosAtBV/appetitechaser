// TEMP
// GET THESE NON-CANON WEAPONS OUTTA HERE

ACTOR Nothing0 replaces Chainsaw {}
ACTOR Nothing2 replaces SuperShotgun {}
ACTOR Nothing3 replaces Chaingun {}
ACTOR Nothing4 replaces RocketLauncher {}
ACTOR Nothing5 replaces PlasmaRifle {}
ACTOR Nothing6 replaces BFG9000 {}

// DEFINITIONS
#include "Actors/DEC_DEFS.txt"

ACTOR TSP_BulletPuff : BulletPuff replaces BulletPuff
{
	+PUFFONACTORS
	States
	{
		XDeath:
			TNT1 A 0 A_PlaySound("hit/flesh")
			Stop
	}
}

// Well this is decorative. :P

//Melee Button Press
Actor MeleePressed : Boolean {}
Actor TraitPressed : Boolean {}
Actor PlayingPickupSound : Boolean {}

ACTOR TSP_GlobalDollars : Inventory
{
	Inventory.MaxAmount 9999999
}

// [Py] poo poo pee pee
// [MK] you fool

Actor StartMelee : CustomInventory
{
  -INVBAR
  +UNDROPPABLE
  Inventory.Amount 1
  Inventory.MaxAmount 1
  States
  {
  Use:
    TNT1 A 0 A_GiveInventory("MeleePressed", 1)
    Fail
  }
}

Actor StopMelee : CustomInventory
{
  -INVBAR
  +UNDROPPABLE
  Inventory.Amount 1
  Inventory.MaxAmount 1
  States
  {
  Use:
    TNT1 A 0 A_TakeInventory("MeleePressed", 1)
    Fail
  }
}

Actor StartTrait : CustomInventory
{
  -INVBAR
  +UNDROPPABLE
  Inventory.Amount 1
  Inventory.MaxAmount 1
  States
  {
  Use:
    TNT1 A 0 A_GiveInventory("TraitPressed", 1)
    Fail
  }
}

Actor StopTrait : CustomInventory
{
  -INVBAR
  +UNDROPPABLE
  Inventory.Amount 1
  Inventory.MaxAmount 1
  States
  {
  Use:
    TNT1 A 0 A_TakeInventory("TraitPressed", 1)
    Fail
  }
}

// This will get rewritten soon!

// Weapon sprites are like such!
// 1111A0
// ^ Character (1 for Mel, 2 for Robo Mel)
//  ^ Slot
//   ^ Weapon
//    ^ Action

// Weapon Select Memory was adapted from mk-ww, by WildWeasel and Cardboard Marty
// This makes things less clustered for the select state on weapons

ACTOR WeaponSelectMemory : Inventory
{
  // Mel Weapons
  // 110 = Trait
  //    A= Mag Grapple
  //    B= Mag Sling
  //    C= Mag Drive
  //    D= Mag Upper
  //    E= Mag Spear
  // 111 = Bare Knuckle
  // 112 = Charge Style
  // 121 = Darling Nikki
  // 131 = OS06 Suzuka
  Inventory.MaxAmount 999
}

Actor MeleeButtonActor : CustomInventory
{
  -INVBAR
  +UNDROPPABLE
  Inventory.Amount 1
  Inventory.MaxAmount 1
  States
  {
  Use:
    TNT1 A 0 A_JumpIfInventory("IsMel",1,"MelMeleeButton")
    Fail
  MelMeleeButton:
    TNT1 A 0 A_JumpIfInventory("MeleeSelected",1,"MelMeleeSwitch")
    TNT1 A 0 A_SelectWeapon("MelMelee")
    Fail
  MelMeleeSwitch:
    TNT1 A 0 A_JumpIfInventory("WeaponSelectMemory",131,"MelSMGSwitch")
    TNT1 A 0 A_JumpIfInventory("WeaponSelectMemory",121,"MelPistolSwitch")
    Goto MelPistolSwitch
  MelPistolSwitch:
    TNT1 A 0 A_SelectWeapon("MelPistol")
    TNT1 A 0 A_SelectWeapon("MelPistolA")
    TNT1 A 0 A_SelectWeapon("MelPistolB")
    Fail
  MelSMGSwitch:
    TNT1 A 0 A_SelectWeapon("MelSMG")
//    TNT1 A 0 A_SelectWeapon("MelSMGA")
//    TNT1 A 0 A_SelectWeapon("MelSMGB")
    Fail  
  }
}

Actor MeleeSelected : Boolean {}

//Characters
#include "Actors/Characters/DEC_LOAD.txt" //Character Loadout Stuff
#include "Actors/Characters/DEC_MEL.txt" // Mel's Player Stuff

//Enemies
#include "Actors/Enemies/DEC_H_DUMMY.txt" // Training Dummy

//Ammo
#include "Actors/DEC_AMMO.txt"

//Items
#include "Actors/DEC_ITEM.txt"

//Lone Survivor
#include "Actors/DEC_LSITEMS.txt" // Lone Survivor Specific Items

//The rest
#include "Actors/DEC_SFX.txt" //Special Effects (Casings, Smoke, Etc.)
#include "Actors/DEC_WEP_PICKUPS.txt" //Weapon pickups and such

///////////////////////////////////////////////////////
// Weapons
///////////////////////////////////////////////////////

#include "Actors/Weapons/DEC_W_PUNCH.txt" //Universal Melee Stuff
#include "Actors/Weapons/Mel/DEC_M_WEPBASE.txt" // Mel Base WEapon

////////////////////////////
//// MELODY CROSSWELL
////////////////////////////

#include "Actors/Weapons/Mel/DEC_M_WEP1.txt" // BARE KNUCKLE
#include "Actors/Weapons/Mel/DEC_M_WEP1a.txt" // CHARGE STYLE
#include "Actors/Weapons/Mel/DEC_M_WEP2.txt" // DARLING NIKKI
#include "Actors/Weapons/Mel/DEC_M_WEP2a.txt" // DARLING NIKKI (Spitfire)
#include "Actors/Weapons/Mel/DEC_M_WEP2b.txt"
#include "Actors/Weapons/Mel/DEC_M_WEP3.txt" // SUZUKA

// THE TOOLBOX
//#include "Actors/Weapons/Mel/DEC_M_WEP5a.txt" // MEL